<html>
<head>
  <meta charset = "UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/css/mdb.min.css" rel="stylesheet">

  <link href="css/style.css" rel="stylesheet">

</head>

<body class="info-color">
  <div class="container">
    <div class="mt-5">
      <div class="form-row">
        <div class="col">
      <div class="md-form form-lg">
        <input type="text" id="inputAGBn" class="form-control form-control-lg text-white" value="Hello World" oninput="frase(this);">
        <label for="inputAGBn" class="text-white" >Frase</label>
      </div>
    </div>
    <div class="col" id="formMutacao">
      <div class="md-form form-lg">
        <input type="number" id="inputAGBn" class="form-control form-control-lg text-white" value="1" oninput="inputMutacao(this)">
        <label for="inputAGBn" class="text-white" >Taxa Mutação (%)</label>
      </div>
    </div>
    </div>
      <div class="row ml-1">
      <label id="pop_label" class="text-white" for="pop">População: 1000 elementos</label>
      <div class="custom-control custom-checkbox ml-auto mr-1 text-white">
        <input type="checkbox" class="custom-control-input" id="mutacaoDinamica" onchange="toggleDinamica(this)" checked>
        <label class="custom-control-label" for="mutacaoDinamica">Mutação Dinâmica</label>
      </div>
    </div>
      <input type="range" class="custom-range" id="populacao" min="100"  max="30000" value="1000" onchange="pop_slider(this)">


      <!-- Grid row -->

      <!-- Grid row -->
      <div class="row text-white text-center mt-2">
        <!-- Default input -->
        <h2 id="geracao" class="col-sm-2 col-form-label text-center">Geração: </h2>
        <h2 id="tempo_geracao" class="col-sm-2 col-form-label text-center">Tempo Geração: </h2>
        <label id="maior_fit" class="col-sm-2 col-form-label text-center">Maior Fitness: </label>
        <label id="media_fit" class="col-sm-3 col-form-label text-center">Média Fitness: </label>
        <label id="muta_din" class="col-sm-2 col-form-label text-center">Mutação Dinâmica: </label>

      </div>
      <div class="form-group row text-white ">
        <!-- Default input -->
      </div>


      <div class="row text-center">
        <h1 id="frase" class="text-center mx-auto mt-5 text-white display-1">Hello World </h1>
      </div>
      <div class="card border-white info-color mb-3">
        <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <p  class="text-white m-2">População</p>
            <button class="btn btn-danger btn-smbtn-danger " data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              Ver mais
            </button>
          </h2>
        </div>

        <div id="collapseOne" class="collapse text-center" aria-labelledby="headingOne">
          <p id="list_popula" class="text-white m-2 font-weight-light"></p>
        </div>
      </div>
    </div>

  </div>



  <div class="row text-center mx-auto mt-2 mb-2">
    <div class="col-md-6 mx-auto">
      <canvas id="myChart"></canvas>
    </div>
  </div>

  <script>
  var canvas = document.getElementById('myChart');
  var data = {
    labels: [],
    datasets: [
      {
        label: "Maior Fitness",
        fill: true,
        lineTension: 0.2,
        backgroundColor: "rgba(253,152,78,1)",
        borderColor: "rgba(255,255,255,1)",
        borderCapStyle: 'round',
        borderDash: [],
        borderDashOffset: 0.0,
        borderJoinStyle: 'miter',
        pointBorderColor: "rgba(163,255,15,1)",
        pointBackgroundColor: "#fff",
        pointBorderWidth: 10,
        pointHoverRadius: 10,
        pointHoverBackgroundColor: "rgba(110,179,0,1)",
        pointHoverBorderColor: "rgba(220,220,220,1)",
        pointHoverBorderWidth: 1,
        pointStyle: "rectRot",
        pointRadius: 0.4,
        pointHitRadius: 5,
        data: [],
      }
    ]
  };
  var option = {
    showLines: true,
    responsive: true
  };
  var myLineChart = Chart.Line(canvas,{
    data:data,
    options:option
  });


  function addData(value,geracao){
    var tamanhoAtual = myLineChart.data.datasets[0].data.length;
    var tamanhoDataset = myLineChart.data.datasets.length;
    let gera = geracao;
    if(geracao==undefined) return;
    myLineChart.data.datasets[0].data[tamanhoAtual] = value;
    myLineChart.data.labels[tamanhoAtual] = gera;
    myLineChart.update();
  }

  function clearChart(){
    myLineChart.data.labels.length = 0;
    myLineChart.data.datasets[0].data.length = 0;
    myLineChart.update();
  }

  addData();
</script>

</div>

<!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/js/mdb.min.js"></script>

<script src="js/script.js"></script>
</body>

</html>
